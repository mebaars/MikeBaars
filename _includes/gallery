{% comment %}
*
*   This include lets you easily embed a gallery into your post.
*   To use the gallery include you...
*
*   1. ...need two images: a thumbnail and a big image.
*   2. Name the thumbnail gallery-image-thumb.jpg and...
*   3. ...name the big gallery-image.jpg
*   4. Define the big version in frontmatter,
*
*   gallery:
*       - image_url: gallery-image.jpg
*
*   5. Give your image a caption – works without captions, too.
*
*   gallery:
*       - image_url: gallery-image.jpg
*         caption: Starting Page with huge One Logo
*
*   6. Add the include wherever you want in your content like this:
*
*   {% raw %}{% include gallery %}{% endraw %}
*
*   Check out the example page › http://phlow.github.io/feeling-responsive/design/gallery/
*
{% endcomment %}
<div>
    <ul class="clearing-thumbs small-block-grid-4" data-clearing>
        {% for item in page.gallery %}
        {% capture url %}{{ item.image_url }}{% endcapture %}
        {% assign split_url = url | split: '/' %}
        {% assign file_name = split_url | last %}
        {% assign path = url | remove: file_name %}
        {% assign split_file_name = file_name | split: '.' %}
        {% assign base_name = split_file_name[0] %}
        {% assign extension = split_file_name[1] %}
        {% assign thumb_name = base_name | append: '_thumb.' | append: extension %}
        <li>
            <a href="{{ site.urlimg }}{{ item.image_url }}">
                <img src="{{ site.urlimg }}{{ path }}{{ thumb_name }}" alt="{{ item.caption | escape }}" {% if item.caption %}data-caption="{{ item.caption }}"{% endif %}>
            </a>
            {% if item.caption %}
            <div class="caption">{{ item.caption }}</div>
            {% endif %}
        </li>
        {% endfor %}
    </ul>
</div>

<style>
    .caption {
        text-align: center;
        font-size: 0.9em;
        margin-top: 5px;
    }
</style>
