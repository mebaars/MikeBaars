{% comment %}
*
*   Gallery include file for Lightbox.
*   Specify the thumbnail image and gallery images in the frontmatter:
*
*   gallery_thumbnail: path/to/thumbnail.jpg
*   gallery:
*     - image_url: path/to/image1.jpg
*       caption: "Caption for image 1"
*     - image_url: path/to/image2.jpg
*       caption: "Caption for image 2"
*     # Add more images as needed
*
{% endcomment %}

{% assign first_image = page.gallery | first %}

{% if page.gallery_thumbnail and first_image %}
<div class="main-thumbnail">
    <!-- The thumbnail links to the first image in the gallery -->
    <a href="{{ site.urlimg }}{{ first_image.image_url }}" data-lightbox="gallery" data-title="{{ first_image.caption | escape }}">
        <img src="{{ site.urlimg }}{{ page.gallery_thumbnail }}" alt="Open Gallery" class="thumbnail">
    </a>
</div>
{% endif %}

<!-- This block ensures all images are part of the Lightbox gallery -->
{% for item in page.gallery %}
<a href="{{ site.urlimg }}{{ item.image_url }}" data-lightbox="gallery" data-title="{{ item.caption | escape }}" style="display:none;">
    <img src="{{ site.urlimg }}{{ item.image_url }}" alt="{{ item.caption | escape }}">
</a>
{% endfor %}

<style>
    .thumbnail {
        width: 150px; /* Adjust size as needed */
        height: auto;
    }
    .main-thumbnail {
        text-align: center;
        margin-bottom: 20px;
    }
</style>
